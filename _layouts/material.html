<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- the usual stuff -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- embed stuff -->
    <meta property="og:title" content="{{ site.name }} {{ site.devphase }}">
    <meta property="og:description" content="{{ site.description }}">
    <meta property="og:url" content="{{ site.url }}">
    <meta name="theme-color" content="#ffffff">
    <meta content="website" property="type">
     
    <!-- the font (i dont think it works) -->
    <!-- it had the wrong fucking link bruh -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    
    <!-- gotta get a new one this is horiwebsite's one -->
    <meta name="google-site-verification" content="juCkrJsWFUpDDiBrebgAywCVCCE90p5S7yfXBNjIlXQ" />
    
    <!-- do i need to explain this??? -->
    <title>{{ page.title | default: "Untitled" }} ~ {{ site.title }}</title>
    
    <!-- its css time -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.light_blue-blue.min.css">
    <link rel="stylesheet" href="./resources/css/materialdesignlite.css">
    <link rel="stylesheet" href="./resources/css/infobox.css">
    <link rel="stylesheet" href="./resources/css/global.css">
    <link rel="stylesheet" href="./resources/css/gallery.css">
    <link rel="stylesheet" href="./resources/css/springviewer.css"> 
    <!-- springviewer takes alot of lines okay~ -->

    <!-- the thing that makes most of mdl work -->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <!-- springviewer js file -->
    <script src="./resources/js/springviewer.js"></script>

    <!-- the light mode mechanic -->
     <script>
      document.addEventListener('DOMContentLoaded', () => {
      const htmlElement = document.documentElement;
      const storageKey = 'themePreference';
      const lightModeClass = 'light-mode';

      function loadTheme() {
          const savedTheme = localStorage.getItem(storageKey);
        
          if (savedTheme === 'light') {
              htmlElement.classList.add(lightModeClass);
          } else {
              htmlElement.classList.remove(lightModeClass);
          }
      }

      loadTheme();
      });
     </script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const storageKey = 'onekoEnabled';
    const scriptId = 'onekoTag';
    const scriptSrc = './resources/js/oneko.js';

    function loadScript() {
        if (document.getElementById(scriptId)) return;
        const el = document.createElement('script');
        el.id = scriptId;
        el.src = scriptSrc;
        el.defer = true;
        document.body.appendChild(el);
    }

    const enabled = localStorage.getItem(storageKey) === '1';
    if (enabled) {
        loadScript();
    }
});
</script>


     {% if site.background-dark %}
     <style>
      html {
        --background-image-dark: url('./resources/img/{{ site.background-dark }}');
      }
     </style>
     {% endif %}
    {% if site.background-light %}
     <style>
      html {
        --background-image-light: url('./resources/img/{{ site.background-light }}');
      }
     </style>
     {% endif %}
  </head>

  <!-- and so, it begins -->
  <body>
    <div class="demo-layout-transparent mdl-layout mdl-js-layout">
      <header class="mdl-layout__header mdl-layout__header--transparent">
        <div class="mdl-layout__header-row" style="text-shadow: 0 0 4px black;">
          <div class="container is-hidden-mobile">
            <!-- its finally a link it has been bothering me alot recently idk why -->
            <a href="./" style="color:white;" title="Go back to home page">
              <span id="title" class="mdl-layout-title">{{ site.title }}</span>
            </a>
          </div>
        
          <div class="mdl-layout-spacer"></div>
        
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--align-right" style="color: white !important;">
            <!-- search box -->
            <div class="mdl-textfield__holder">
              <div class="container" style="padding: 5%; margin:-10px !important;" id="desktop-search">
                <form action="results" method="get">
                  <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="text" id="search-input" name="q" style="border-bottom: 0px rgba(0,0,0,0);">
                    <label class="mdl-textfield__label" for="sample1"><i style="color: rgb(255, 255, 255) !important;font-family: Roboto;">Search {{ site.title }}...</i></label>
                  </div>
                </form> <!-- damn you stupid closing form tag!!!-->
              </div>

              <div class="container" style="padding: 5%; margin:50px !important;" id="mobile-search">
                <form action="results" method="get">
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                    <label class="mdl-button mdl-js-button mdl-button--icon" for="sample6">
                      <i class="material-icons">search</i>
                    </label>
                    <div class="mdl-textfield__expandable-holder">
                      <input class="mdl-textfield__input" type="text" id="sample6" name="q">
                      <label class="mdl-textfield__label" for="sample1"><i style="color: rgb(255, 255, 255) !important;font-family: Roboto;">Search {{ site.title }}...</i></label>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </header>
  
      <div class="mdl-layout__drawer">
        {% if site.drawertitle %}
          <span class="mdl-layout-title">{{ site.title }}</span>
        {% endif %}

        {% if site.drawerbanner %}
          <img src="resources/img/banner.png" title="KuroWiki" alt="KuroWiki banner" id="drawer-banner">
        {% endif %}
    
        <nav class="mdl-navigation" style="margin-top: -3% !important;">
          <a class="mdl-navigation__link" id="drawerlink" href="./">
            <span class="material-icons">home</span>&nbsp;&nbsp;&nbsp;Home
          </a>

          <a class="mdl-navigation__link" id="drawerlink" href="Settings">
            <span class="material-icons">settings</span>&nbsp;&nbsp;&nbsp;Settings
          </a>
       
          <a class="mdl-navigation__link" id="drawerlink" href="Contributing_to_KuroWiki">
            <span class="material-icons">group</span>&nbsp;&nbsp;&nbsp;Contribute!
          </a>
       
          <a class="mdl-navigation__link" id="drawerlink" href="Sitemap">
            <span class="material-icons">explore</span>&nbsp;&nbsp;&nbsp;Sitemap
          </a>
       
          <a class="mdl-navigation__link" id="drawerlink" href="#" onclick="loadRandomArticle()">
            <span class="material-icons">shuffle</span>&nbsp;&nbsp;&nbsp;Random Article
          </a>

          <span style="padding-left:4.5%; color:var(--text-color)">
            <br>
            &copy;{{ site.copyyear }} {{ site.author }}.
            <br>
            Licensed under <a href="{{ site.licenseurl }}">{{ site.license-s }}</a>
            <br>
            <br>
            {{ site.productname }} {{ site.devphase-s }} 
            <span>
              {% if site.debug %}
                (Debug)
              {% endif %}
            </span>
            <br>
            <span style="font-size: smaller; color:darkgray !important;">
              {% if site.debug %}
                Version {{ site.version.full }}
              {% endif %}
            
              {% if site.retail %}
                Version {{ site.retailtag }}
              {% endif %}
            </span>
          </span>
        </nav>
      </div>

      <!-- and god said, let there be content, and there was content -->
      <main class="mdl-layout__content">
        <div class="box mdl-shadow--8dp" id="mainbox">
          <div class="container" style="margin-left: 15px; margin-right: 15px; margin-top: 15px; margin-bottom: 15px">
              <div class="hatnote" markdown="1">
              {{ page.hatnote | markdownify }}
            </div>

            <h1 id="pagetitle" style="color:var(--title-color)" >{{ page.title }}</h1>
            <hr>
          
            <noscript>
              <b><span style="color:rgb(238, 234, 13);">Note:</span></b><i> JavaScript is not enabled. The website may not work to its full capacity.</i>
            </noscript>

		        <div id="pagecontent">
              {{content}}
		        </div>
          </div>
        </div>
      
        <p>
          &nbsp;<br>
        </p>

        {% include springviewer.html %}      
	
        {% if site.debug %}
          <p id=watermark class="mdl-shadow--4dp">
            &nbsp;Debug {{ site.productname }} {{ site.devphase }} Version {{ site.version.full }} &nbsp;
          </p>
        {% endif %}
      </main>
    </div>

    <!-- 'I'm Feeling Lucky' deltari edition -->
  <script src="./resources/js/randomarticle.js"></script>
  </body>
</html>


